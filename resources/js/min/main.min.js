function rollData(e,t,i,a,n,o){this.dice_amount=e,this.faces_amount=t,this.individual_rolls=i,this.modifier=a,this.mod_type=n,this.result=o}function incrementInputFields(e){isNaN($(document.activeElement).val())||("up"===e?$(document.activeElement).val(function(){return parseInt(this.value)+1}):"down"===e&&$(document.activeElement).val(function(){return parseInt(this.value)-1}))}function randomNumberBetween(e,t){var i=t-e;return Math.ceil(Math.random()*i)+e}function cleanFields(){var e;e="+"===$("#modifier").val()[0]?$("#modifier").val().substr(1):$("#modifier").val(),$("#modifier").val(e),["#dice-amount","#faces-amount","#modifier"].forEach(function(e){0===$(e).val().length?$(e).val("0"):$(e).val()})}function rollDice(){var e=1;cleanFields();for(var t=parseInt($("#dice-amount").val()),i=parseInt($("#faces-amount").val()),a=parseInt($("#modifier").val()),n=[],o=0,l=0;t>l;l++)n.push(randomNumberBetween(0,i));n.forEach(function(e){o+=e}),1===e?o+=a:2===e&&(o+=a*t);var r=new rollData;r.dice_amount=t,r.faces_amount=i,r.individual_rolls=n,r.modifier=a,r.mod_type=e,r.result=o,roll_history.push(r),displayRollResult(r)}function getRollShorthand(e){var t,i=e.modifier<0?"":"+";return t=0!=e.modifier?2===e.mod_type?e.dice_amount+"(d"+e.faces_amount+i+e.modifier+")":"("+e.dice_amount+"d"+e.faces_amount+")"+i+e.modifier:e.dice_amount+"d"+e.faces_amount}function displayRollResult(e){$(".individual-rolls h1 span").text(getRollShorthand(e)),console.log(e.individual_rolls),console.log(e.result)}var roll_history=[];